{"version":3,"sources":["webpack:///src/components/extraOptions/messageCenter.vue","webpack:///./src/components/extraOptions/messageCenter.vue?0c92","webpack:///./src/components/extraOptions/messageCenter.vue"],"names":["messageCenter","data","_ref","isActive","total","inforList","formData1","pages","apartmentId","formSearch","current","size","addORupdate","addFormVisible1","addDialog","selectArr","getGateWayList","sels","listLoading","defineProperty_default","msgType","apartmentName","linkman","phone","createTime","comment","remark","sessionStorage","getItem","methods","_methods","getupdaalltedata","_this","this","params","deleBatch","forEach","item","status","$message","push","id","length","Object","api","then","res","console","log","code","getList","getJobgoesList","_this2","pushInfor","addList","_this3","init","WebSocket","alert","socket","path","onopen","open","onerror","error","onmessage","getMessage","msg","inforList2","JSON","parse","send","close","changeActive","val","_this4","records","filter","handleSelectionChange","self","updateShowBox","ids","_this5","arrId","$confirm","_","catch","useqrcode","QueryDetail","canvas","document","getElementById","QRCode","toCanvas","handleCurrentChange","checkInfor","changeHouseList","_this6","assignList","houseAssignList","html","type","gmtCreate","$notify","title","dangerouslyUseHTMLString","duration","position","message","sel","isExist","mounted","extraOptions_messageCenter","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","class","nav_option_active","on","click","$event","attrs","value","noRead","financeNum","max","_v","width","stripe","selection-change","prop","label","scopedSlots","_u","key","fn","scope","row","_s","$root","getDateArray","undefined","gmtModified","fixed","_e","span","layout","page-size","page-count","current-change","_m","visible","update:visible","label-position","label-width","ref","height","model","callback","$$v","$set","expression","sex","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.9d567ef29df4828c5fc3.js","sourcesContent":["<template>\r\n  <section class=\"modlude\">\r\n    <div class=\"nav_options\" style=\"margin-bottom:20px;\">\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 1}\" @click=\"changeActive(1)\">\r\n        <el-badge :value=\"noRead.financeNum\" class=\"item\" :max=\"99\" style=\"\">\r\n          <span class=\"txt\">报警信息</span>\r\n        </el-badge>\r\n      </div>\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 2}\" @click=\"changeActive(2)\">\r\n        <span>公告通知</span>\r\n      </div>\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 3}\" @click=\"changeActive(3)\">\r\n        <span>支付信息</span>\r\n      </div>\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 4}\" @click=\"changeActive(4)\">\r\n        <span>服务信息</span>\r\n      </div>\r\n    </div>\r\n      <!-- 水列表部分 -->\r\n      <el-table :data=\"inforList\"  v-if=\"isActive == 1\" style=\"width: 100%\" stripe @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column prop=\"\" label=\"创建时间\">\r\n            <template slot-scope=\"scope\" v-if=\"scope.row.gmtCreate\">\r\n            {{$root.getDateArray(scope.row.gmtCreate)[9]}}\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"\" label=\"修改时间\">\r\n            <template slot-scope=\"scope\" v-if=\"scope.row.gmtModified\">\r\n                {{$root.getDateArray(scope.row.gmtModified)[9]}}\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"latitude\" label=\"纬度\"></el-table-column>\r\n        <el-table-column prop=\"longitude\" label=\"经度\"></el-table-column>\r\n        <el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\r\n        <el-table-column prop=\"score\" label=\"评论\"></el-table-column>\r\n        <el-table-column prop=\"nickname\" label=\"报警人姓名\"></el-table-column>\r\n\r\n        <el-table-column prop=\"phone\" label=\"报警人手机号\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\">\r\n            <template slot-scope=\"scope\">\r\n                {{scope.row.status==1?\"未处理\":scope.row.status==2?\"处理中\":scope.row.status==3?\"派单处理中\":\"处理完成\"}}\r\n            </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column prop=\"userId\" label=\"用户\"></el-table-column> -->\r\n        <el-table-column label=\"操作\" fixed=\"right\" width=250>\r\n            <template slot-scope=\"scope\">\r\n                <el-button type=\"warning\" size=\"small\" @click=\"updateShowBox(scope.row.id)\" v-if=\"scope.row.status==1\">处理</el-button>\r\n                <el-button type=\"warning\" size=\"small\" @click=\"getJobgoesList(scope.row.id)\" v-if=\"scope.row.status==2\">派单</el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <!-- 批量删除，下标页码 -->\r\n    <el-col :span=\"24\" class=\"paginationt\">\r\n        <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\" :page-size=\"10\" :page-count=\"total\" class=\"pagination\">\r\n        </el-pagination>\r\n    </el-col>\r\n    <div><el-button type=\"warning\" size=\"small\" @click=\"getupdaalltedata\" v-if=\"isActive==1\">确认完成</el-button></div>\r\n    <div id=\"query\">\r\n        <canvas id=\"canvas\"></canvas>\r\n    </div>\r\n<el-dialog title=\"派单派工作人员\" :visible.sync=\"addDialog\">\r\n    <div class=\"cont_box_left\">\r\n        <el-form label-position=\"right\" label-width=\"110px\">\r\n              <el-table ref=\"multipleTable\" :data=\"formData1\" style=\"width: 100%\" height=\"300\">\r\n                <el-table-column  width=\"55\" label=\"编号\">\r\n                    <template slot-scope=\"scope\">\r\n                      <el-radio v-model=\"pushInfor.managerid\" :label=\"scope.row.id\">{{scope.row.id}}</el-radio>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"name\" label=\"姓名\"></el-table-column>\r\n                <el-table-column prop=\"phone\" label=\"电话号码\"></el-table-column>\r\n                <el-table-column prop=\"address\" label=\"地址\"></el-table-column>\r\n                <el-table-column prop=\"\" label=\"性别\">\r\n                    <template slot-scope=\"scope\">\r\n                      {{scope.row.sex==1?\"男\":scope.row.sex==2?\"女\":\"未知\"}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"\" label=\"是否离职\">\r\n                    <template slot-scope=\"scope\">\r\n                      {{scope.row.sex==1?\"是\":\"否\"}}\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-form>\r\n    </div>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button size=\"medium \" @click=\"addDialog = false\">取 消</el-button>\r\n      <el-button size=\"medium \" @click=\"addList()\">派单</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</section>\r\n</template>\r\n<script>\r\n    // import QRCode from 'qrcode'\r\n    // import {getDateArray} from '../../util/util'\r\n    import {\r\n        sosQuery,\r\n        jobgoesList,\r\n        updatalarData,\r\n        updaalltedata,\r\n        updateSosById\r\n    } from '../../url/api'\r\n    export default {\r\n        data() {\r\n            return {\r\n                isActive: 1,\r\n                total: 1,\r\n                inforList: [], //数据\r\n                formData1: [], //数据\r\n                pages: 1, //总页码数\r\n                apartmentId: '',\r\n                formSearch: {\r\n                    current: 1,\r\n                    size: 10\r\n                },\r\n                addORupdate: 0,\r\n                addFormVisible1: false,\r\n                addDialog: false,\r\n                selectArr: [],\r\n                getGateWayList: [], //网关列表\r\n                sels: [], //列表选中列\r\n                listLoading: false,\r\n                sels: [], //列表选中列\r\n                inforList2: {},\r\n                checkList: [],\r\n\r\n                checkInfor: {\r\n                    msgType: 0, //消息类型(0财务1租约2房源3服务4系统)\r\n                    size: 10,\r\n                    current: 1 //当前页数\r\n                }, //条件查询\r\n                addForm: { //备注操作\r\n                    apartmentName: \"\",\r\n                    linkman: \"\",\r\n                    phone: \"\",\r\n                    createTime: '',\r\n                    comment: \"\",\r\n                    remark: \"\"\r\n                },\r\n                pushInfor: {},\r\n                noRead: {},\r\n                path: \"ws://192.168.0.142:8082/park/ist?appId=\" + sessionStorage.getItem('Authorization'),\r\n                socket: \"\"\r\n            }\r\n        },\r\n        methods: {\r\n            getupdaalltedata(){//确认完成\r\n                let params = []\r\n\r\n                this.deleBatch.forEach(item=>{\r\n                    if(item.status==3){\r\n                        params.push(item.id)\r\n                    }else{\r\n                        this.$message(\"只能勾选派单中的对象\")\r\n                        return  false\r\n                    }\r\n\r\n                })\r\n                if(params.length==0){\r\n                    return\r\n                }\r\n                updaalltedata(params).then(res=>{\r\n                    console.log(res)\r\n                    if(res.data.code == 200){\r\n                        this.$message(\"操作成功\")\r\n                        this.getList()\r\n                    }else{\r\n                        this.$message(\"操作失败\")\r\n                    }\r\n                })\r\n            },\r\n            getJobgoesList(id){//查询工作人员无分页列表\r\n                this.pushInfor.id = id\r\n                this.addDialog = true\r\n                let params = {\r\n                    size:1,\r\n                    current:10,\r\n                }\r\n                jobgoesList(params).then(res=>{\r\n                    console.log(res)\r\n                    if(res.data.code == 200){\r\n                        this.formData1 = res.data.data\r\n                    }\r\n                })\r\n            },\r\n            addList(){//派单派工作人员\r\n                updatalarData(this.pushInfor).then(res=>{\r\n                    console.log(res)\r\n                    if(res.data.code == 200){\r\n                        this.$message(\"派单成功\")\r\n                        this.getList()\r\n                    }else{\r\n                        this.$message(\"派单失败\")\r\n                    }\r\n                })\r\n                this.addDialog = false\r\n            },\r\n            init: function() {\r\n                if (typeof(WebSocket) === \"undefined\") {\r\n                    alert(\"您的浏览器不支持socket\")\r\n                } else {\r\n                    // 实例化socket\r\n                    this.socket = new WebSocket(this.path)\r\n                        // 监听socket连接\r\n                    this.socket.onopen = this.open\r\n                        // 监听socket错误信息\r\n                    this.socket.onerror = this.error\r\n                        // 监听socket消息\r\n                    this.socket.onmessage = this.getMessage\r\n                }\r\n            },\r\n            open: function() {\r\n                console.log(\"socket连接成功\")\r\n            },\r\n            error: function() {\r\n                console.log(\"连接错误\")\r\n            },\r\n            getMessage: function(msg) {\r\n                console.log(msg)\r\n                this.inforList2 = JSON.parse(msg.data)\r\n                this.open()\r\n                console.log(this.inforList2)\r\n            },\r\n            send: function() {\r\n                let params = \"liyu\"\r\n                this.socket.send(params)\r\n            },\r\n            close: function() {\r\n                console.log(\"socket已经关闭\")\r\n            },\r\n            //未读条数提醒\r\n            changeActive(val) {\r\n                this.isActive = val　\r\n            },\r\n            getList(){\r\n                sosQuery(this.formSearch).then((res) => {\r\n                    console.log(res)\r\n                    if (res.data.code == 200) {\r\n                        this.inforList = res.data.data.records.filter((item) => {\r\n                            return item\r\n                        })\r\n                        this.total = res.data.data.total\r\n                    } else {\r\n                        this.$message(res.data.msg);\r\n                    }\r\n                })\r\n            },\r\n            handleSelectionChange(val, self) { //多选\r\n                this.deleBatch = val\r\n                console.log(this.deleBatch)\r\n            },\r\n            updateShowBox(ids) { //报警\r\n                let arrId = []\r\n                if (ids) {\r\n                    arrId.push(ids)\r\n                } else {\r\n                    if (this.deleBatch.length != 0) {\r\n                        this.deleBatch.filter((item) => {\r\n                            arrId.push(item.id)\r\n                            return item\r\n                        })\r\n                    }\r\n                }\r\n                this.$confirm('确认受理案件吗？')\r\n                    .then(_ => {\r\n                        updateSosById(arrId).then((res) => {\r\n                            console.log(res)\r\n                            if (res.data.code == 200) {\r\n                                this.$message('受理成功');\r\n                                this.getList()\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(_ => {});\r\n            },\r\n            useqrcode() {\r\n                //生成的二维码内容，可以添加变量\r\n                　　　\r\n                this.QueryDetail = \"shdak\";\r\n                var canvas = document.getElementById('canvas')\r\n                QRCode.toCanvas(canvas, this.QueryDetail, function(error) {\r\n                    if (error) console.error(error)\r\n                    console.log('success!');\r\n                })\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.checkInfor.current = val\r\n                this.getList(this.checkInfor.msgType)\r\n            },\r\n            changeHouseList(val) {\r\n                let params = {\r\n                    apartmentId: this.apartmentId,\r\n                    current: val\r\n                }\r\n                console.log(params)\r\n                assignList(params).then(res => {\r\n                    console.log(res)\r\n                    if (res.data.code === 200) {\r\n                        this.houseAssignList = res.data.data.records\r\n                    }\r\n                })\r\n            },\r\n            open() {\r\n                let html = '<div style=\"width:250px;\">' +\r\n                    '<div style=\"display:flex;align-items: center;justify-content: space-between;\">' +\r\n                    '<span>' + this.inforList2.type == 1 ? 'sos报警' : this.inforList2.type == 2 ? '未知' : '未知'; + '</span>' +\r\n                '<span>' + this.inforList2.gmtCreate + '</span>' +\r\n                    '</div>' +\r\n                    '<div style=\"display:flex;align-items: center;justify-content: space-between;\">' +\r\n                    '<span>报警类型</span>' +\r\n                    '<span>开始时间</span>' +\r\n                    ' </div>' +\r\n                    '<div style=\"margin-top:10px;display:flex;align-items: center;justify-content: space-around;\">' +\r\n                    '  <button size=\"small \" style=\"border:0px;padding: 2px 8px;background: #1271b4;color: #fff;\">查看详情</button>' +\r\n                    ' <button size=\"small \" style=\"border:0px;padding: 2px 8px;background: #1271b4;color: #fff;\"></button>' +\r\n                    '  <button size=\"small \" style=\"border:0px;padding: 2px 8px;background: #1271b4;color: #fff;\">处理</button>' +\r\n                    '</div>' +\r\n                    ' </div>'\r\n                this.$notify({\r\n                    title: '报警',\r\n                    dangerouslyUseHTMLString: true,\r\n                    duration: 0,\r\n                    position: 'bottom-right',\r\n                    message: html\r\n                });\r\n\r\n            },\r\n            selsChange: function(sels) { // 当选择项发生变化时会触发该事件\r\n                this.sels = sels.filter(function(sel) {\r\n                    if (sel.isExist !== 1) {\r\n                        return sel\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            // this.useqrcode()\r\n            // this.messageUnreadd()\r\n            this.getList()\r\n\r\n            /* this.open() */\r\n            this.init()\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .tabsMenu .el-badge__content.is-fixed {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 28px;\r\n    }\r\n</style>\r\n\r\n<style scoped>\r\n    .equi {\r\n        padding: 20px;\r\n    }\r\n    \r\n    .gridContt {\r\n        line-height: 30px;\r\n        margin-top: 10px;\r\n    }\r\n    \r\n    .title {\r\n        color: #ff5600;\r\n    }\r\n    \r\n    #canvas {\r\n        width: 200px !important;\r\n        height: auto!important;\r\n    }\r\n    \r\n    .xinxi {\r\n        display: block;\r\n        margin: 0 auto;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/extraOptions/messageCenter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"modlude\"},[_c('div',{staticClass:\"nav_options\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 1},on:{\"click\":function($event){return _vm.changeActive(1)}}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.noRead.financeNum,\"max\":99}},[_c('span',{staticClass:\"txt\"},[_vm._v(\"报警信息\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 2},on:{\"click\":function($event){return _vm.changeActive(2)}}},[_c('span',[_vm._v(\"公告通知\")])]),_vm._v(\" \"),_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 3},on:{\"click\":function($event){return _vm.changeActive(3)}}},[_c('span',[_vm._v(\"支付信息\")])]),_vm._v(\" \"),_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 4},on:{\"click\":function($event){return _vm.changeActive(4)}}},[_c('span',[_vm._v(\"服务信息\")])])]),_vm._v(\" \"),(_vm.isActive == 1)?_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.inforList,\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (scope.row.gmtCreate)?[_vm._v(\"\\n            \"+_vm._s(_vm.$root.getDateArray(scope.row.gmtCreate)[9])+\"\\n            \")]:undefined}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"修改时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (scope.row.gmtModified)?[_vm._v(\"\\n                \"+_vm._s(_vm.$root.getDateArray(scope.row.gmtModified)[9])+\"\\n            \")]:undefined}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"latitude\",\"label\":\"纬度\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"longitude\",\"label\":\"经度\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"score\",\"label\":\"评论\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"nickname\",\"label\":\"报警人姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"报警人手机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.status==1?\"未处理\":scope.row.status==2?\"处理中\":scope.row.status==3?\"派单处理中\":\"处理完成\")+\"\\n            \")]}}],null,false,3906510753)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.updateShowBox(scope.row.id)}}},[_vm._v(\"处理\")]):_vm._e(),_vm._v(\" \"),(scope.row.status==2)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJobgoesList(scope.row.id)}}},[_vm._v(\"派单\")]):_vm._e()]}}],null,false,2359828528)})],1):_vm._e(),_vm._v(\" \"),_c('el-col',{staticClass:\"paginationt\",attrs:{\"span\":24}},[_c('el-pagination',{staticClass:\"pagination\",attrs:{\"layout\":\"prev, pager, next\",\"page-size\":10,\"page-count\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',[(_vm.isActive==1)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":_vm.getupdaalltedata}},[_vm._v(\"确认完成\")]):_vm._e()],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"派单派工作人员\",\"visible\":_vm.addDialog},on:{\"update:visible\":function($event){_vm.addDialog=$event}}},[_c('div',{staticClass:\"cont_box_left\"},[_c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"110px\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.formData1,\"height\":\"300\"}},[_c('el-table-column',{attrs:{\"width\":\"55\",\"label\":\"编号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.id},model:{value:(_vm.pushInfor.managerid),callback:function ($$v) {_vm.$set(_vm.pushInfor, \"managerid\", $$v)},expression:\"pushInfor.managerid\"}},[_vm._v(_vm._s(scope.row.id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"电话号码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"地址\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"性别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                      \"+_vm._s(scope.row.sex==1?\"男\":scope.row.sex==2?\"女\":\"未知\")+\"\\n                    \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"是否离职\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                      \"+_vm._s(scope.row.sex==1?\"是\":\"否\")+\"\\n                    \")]}}])})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"medium \"},on:{\"click\":function($event){_vm.addDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"medium \"},on:{\"click\":function($event){return _vm.addList()}}},[_vm._v(\"派单\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"query\"}},[_c('canvas',{attrs:{\"id\":\"canvas\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5fc6594c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/extraOptions/messageCenter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5fc6594c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./messageCenter.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5fc6594c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./messageCenter.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./messageCenter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./messageCenter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5fc6594c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./messageCenter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5fc6594c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/extraOptions/messageCenter.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}