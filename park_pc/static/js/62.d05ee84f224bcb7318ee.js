webpackJsonp([62],{XH8K:function(t,a){},sZJm:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("bOdI"),r=e.n(s),i=e("qKdJ"),o={data:function(){var t;return t={option1:[],uploadToRealPath:"/park/upload/file/upload",headers:{Authorization:sessionStorage.getItem("Authorization"),token:sessionStorage.getItem("token")},formData:[],formSearch:{},formPush:{delIds:[],banners:[]},xqTree:[],dataTree:[]},r()(t,"formSearch",{orgId:"",xqId:""}),r()(t,"imageUrl",""),r()(t,"indexBianhao",0),r()(t,"imageUrl1",""),r()(t,"imageUrl2",""),r()(t,"defaultProps2",{children:"children",label:"name",value:"id",expandTrigger:"hover",checkStrictly:!0}),r()(t,"picArr",[]),t},methods:{getItem:function(t){console.log(t),this.indexBianhao=t},deleteVillage:function(t){this.formData.splice(t,1)},getlist:function(){var t=this;Object(i._96)({}).then(function(a){console.log(a),200==a.data.code?t.formData=a.data.data.filter(function(t){return t}):t.$message(a.data.msg)})},initData:function(){var t=this;Object(i._124)({}).then(function(a){console.log(a),200==a.data.code&&(t.xqTree=a.data.data,0!=t.xqTree.length&&(t.formSearch.xqId=t.xqTree[0].id,t.formPush.xqId=t.xqTree[0].id,t.getlist()))})},handleChange:function(t){0!=t.length?(console.log(t),this.formSearch.orgId=this.$refs.cascader.getCheckedNodes()[0].data.id):this.formSearch.orgId=""},upData:function(t){if(0!=t){var a={address:""},e={address:""};a.address=this.formData[t].address,e.address=this.formData[t-1].address,this.formData[t].address=e.address,this.formData[t-1].address=a.address}},downData:function(t){if(t!=this.formData.length-1){var a={address:""},e={address:""};a.address=this.formData[t].address,e.address=this.formData[t+1].address,this.formData[t].address=e.address,this.formData[t+1].address=a.address}},upCharu:function(){},downCharu:function(){},addData:function(){this.formData.push({appImg:"",portalImg:""})},saveData:function(){var t=this,a=[];this.formData.forEach(function(t){var e={};t.appImg&&(e={appImg:t.appImg}),t.portalImg&&(e={portalImg:t.portalImg}),a.push(e)}),this.formPush.banners=a,Object(i._111)(this.formPush).then(function(a){console.log(a),200==a.data.code?(t.getlist(),t.picArr=[],t.$message({message:"添加成功",type:"success"})):t.$message("添加失败")})},handleAvatarSuccess1:function(t,a,e){console.log(t,a,e),this.imageUrl=t.data[0],this.imageUrl1=URL.createObjectURL(a.raw),this.formData[this.indexBianhao].appImg=this.imageUrl,console.log(this.formData,this.indexBianhao)},handleAvatarSuccess2:function(t,a,e){console.log(t,a,e),this.imageUrl=t.data[0],this.imageUrl2=URL.createObjectURL(a.raw),this.formData[this.indexBianhao].portalImg=this.imageUrl,console.log(this.formData,this.indexBianhao)}},mounted:function(){this.getlist()}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"modlude"},[e("el-form",{staticClass:"form_inline",attrs:{inline:!0,model:t.formSearch,"label-width":"90px"}},[e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.getlist}},[t._v("查询")])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.addData}},[t._v("添加图片")])],1)],1),t._v(" "),e("div",{staticClass:"app_advertise"},t._l(t.formData,function(a,s){return e("div",{key:s,staticClass:"app_advertise_item",on:{click:function(a){return t.getItem(s)}}},[e("div",[t._v("位置"+t._s(s+1)+"--")]),t._v(" "),e("div",[t._v("小程序banner:")]),t._v(" "),e("div",{staticClass:"app_advertise_item_l"},[a.id?e("el-image",{staticStyle:{width:"178px",height:"178px"},attrs:{src:a.appImg}}):e("el-upload",{ref:"addUpdata",refInFor:!0,staticClass:"avatar-uploader",attrs:{action:t.uploadToRealPath,headers:t.headers,"show-file-list":!1,"on-success":t.handleAvatarSuccess1}},[t.imageUrl1?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl1}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),e("div",[t._v("门户banner:")]),t._v(" "),e("div",{staticClass:"app_advertise_item_l"},[a.id?e("el-image",{staticStyle:{width:"178px",height:"178px"},attrs:{src:a.portalImg}}):e("el-upload",{ref:"addUpdata",refInFor:!0,staticClass:"avatar-uploader",attrs:{action:t.uploadToRealPath,headers:t.headers,"show-file-list":!1,"on-success":t.handleAvatarSuccess2}},[t.imageUrl2?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl2}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),e("div",[e("el-button",{attrs:{type:"text"},on:{click:function(a){return t.upData(s)}}},[t._v("上移")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(a){return t.downData(s)}}},[t._v("下移")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(a){return t.upCharu(s)}}},[t._v("向上插入")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(a){return t.downCharu(s)}}},[t._v("向下插入")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(a){return t.deleteVillage(s)}}},[t._v("删除")])],1)])}),0),t._v(" "),e("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.saveData}},[t._v("保 存")])],1)],1)},staticRenderFns:[]};var d=e("VU/8")(o,n,!1,function(t){e("XH8K")},"data-v-45be88f1",null);a.default=d.exports}});
//# sourceMappingURL=62.d05ee84f224bcb7318ee.js.map