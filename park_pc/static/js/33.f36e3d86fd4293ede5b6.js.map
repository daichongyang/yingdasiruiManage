{"version":3,"sources":["webpack:///src/components/xinxifabu/ips_recommend.vue","webpack:///./src/components/xinxifabu/ips_recommend.vue?4c97","webpack:///./src/components/xinxifabu/ips_recommend.vue"],"names":["ips_recommend","data","_ref","typeselect","uploadToRealPath","headers","Authorization","sessionStorage","getItem","token","addDialog","formData","formSearch","formPush","delIds","pictureNodes","xqTree","dataTree","dataTree1","defineProperty_default","children","label","value","expandTrigger","checkStrictly","methods","changeType","val","_this","this","parmas","type","Object","api","then","res","console","log","code","index","indexBianhao","deleteVillage","_this2","$confirm","_","splice","obj","forEach","item","itemObj","facilityId","push","getlist","$message","message","catch","_this3","params","filter","msg","initData","_this4","handleChange","length","orgId","$refs","cascader","getCheckedNodes","id","upData","obj1","obj2","saveData","downData","upCharu","downCharu","addData","_this5","handleAvatarSuccess1","file","fileList","imageUrl","imageUrl1","URL","createObjectURL","raw","address","mounted","xinxifabu_ips_recommend","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","model","label-width","on","click","_v","_l","key","$event","_s","staticStyle","margin-left","width","name","height","src","coverImg","_e","title","visible","update:visible","size","placeholder","change","callback","$$v","$set","expression","typeName","margin-top","text-align","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/33.f36e3d86fd4293ede5b6.js","sourcesContent":["<template>\r\n  <section class=\"modlude\">\r\n    <el-form :inline=\"true\" :model=\"formSearch\" class=\"form_inline\" label-width=\"90px\">\r\n      <!-- <el-form-item label=\"选择小区\" size=\"small\" prop=\"xqId\">\r\n        <el-select v-model=\"formSearch.xqId\" placeholder=\"请选择小区\" @change=\"formSearch1.xqId=formSearch.xqId\">\r\n          <el-option v-for=\"item in xqTree\" :label=\"item.name\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n        </el-select>\r\n      </el-form-item> -->\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"getlist\">查询</el-button>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"addData\">添加图片</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"app_advertise\">\r\n      <div class=\"app_advertise_item\" v-for=\"(item,index) in formData\" :key=\"index\" @click=\"getItem(index)\">\r\n        <div>位置{{index+1}}</div>\r\n        <div style=\"margin-left:30px;width:200px\"><span>名称：{{item.name}}</span></div>\r\n        <div class=\"app_advertise_item_l\">\r\n          <el-image v-if=\"item.id\" style=\"width:150px;height:90px;\" :src=\"item.coverImg\"></el-image>\r\n        </div>\r\n        <div>\r\n          <el-button type=\"text\" @click=\"upData(index)\">上移</el-button>\r\n          <el-button type=\"text\" @click=\"downData(index)\">下移</el-button>\r\n          <el-button type=\"text\" @click=\"upCharu(index)\">向上插入</el-button>\r\n          <el-button type=\"text\" @click=\"downCharu(index)\">向下插入</el-button>\r\n          <el-button type=\"text\" @click=\"deleteVillage(index)\">删除</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 添加 -->\r\n    <el-dialog title=\"添加推荐\" :visible.sync=\"addDialog\">\r\n      <el-form :inline=\"true\" :model=\"formSearch\" class=\"form_inline\" label-width=\"100px\">\r\n        <el-form-item label=\"推荐设施类型\" size=\"small\">\r\n          <el-select v-model=\"typeselect.type\" placeholder=\"请选择推荐设施类型\" @change=\"changeType\">\r\n            <el-option v-for=\"item in dataTree\" :label=\"item.typeName\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"公园设施\" size=\"small\">\r\n          <el-select v-model=\"typeselect.facilityId\" placeholder=\"请选择公园设施\">\r\n            <el-option v-for=\"item in dataTree1\" :label=\"item.name\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div style=\"margin-top:20px;text-align:center;\"><el-button type=\"primary\" @click=\"saveData\">添 加</el-button></div>\r\n    </el-dialog>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { recommendassetsList,recommendupdateList,recommendtype,xqSelectList,recommendfacility } from '../../url/api';\r\nexport default {\r\n  data(){\r\n    return{\r\n      typeselect:{},\r\n      uploadToRealPath:'/intellmanagerV3.0/upload/file/upload',\r\n      headers:{\r\n        Authorization:sessionStorage.getItem('Authorization'),\r\n        token:sessionStorage.getItem('token')\r\n      },\r\n      addDialog:false,\r\n      formData:[],\r\n      formSearch:{},\r\n      formPush:{\r\n        delIds:[],\r\n        pictureNodes:[],\r\n      },\r\n      xqTree:[],\r\n      dataTree:[],\r\n      dataTree1:[],\r\n      formSearch:{//查询条件\r\n      },\r\n      imageUrl:'',\r\n      indexBianhao:0,\r\n      imageUrl1:'',\r\n      defaultProps2: {\r\n        children: 'children',\r\n        label: 'name',\r\n        value: 'id',\r\n        expandTrigger: 'hover',checkStrictly: true\r\n      },\r\n      picArr:[]\r\n    }\r\n  },\r\n  methods:{\r\n    changeType(val){\r\n      let parmas={\r\n        type:val\r\n      }\r\n      recommendfacility(parmas).then(res=>{\r\n        console.log(res)\r\n        if(res.data.code == 200){\r\n          this.dataTree1 = res.data.data\r\n        }\r\n      })\r\n    },\r\n    getItem(index){\r\n      console.log(index)\r\n      this.indexBianhao = index\r\n    },\r\n    deleteVillage(index){//删除\r\n      this.$confirm('确认删除吗？')\r\n      .then(_ => {\r\n        this.formData.splice(index,1)\r\n        let obj=[]\r\n        this.formData.forEach(item=>{\r\n            let itemObj = {\r\n              facilityId:item.facilityId,\r\n              type:item.type,\r\n            }\r\n            obj.push(itemObj)\r\n        })\r\n        this.formPush=obj\r\n        recommendupdateList(this.formPush).then((res)=>{\r\n          console.log(res)\r\n          if(res.data.code == 200){\r\n            this.getlist()\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success'\r\n            })\r\n          }else{\r\n            this.$message('删除失败')\r\n          }\r\n        })\r\n      })\r\n      .catch(_ => {});\r\n    },\r\n    getlist(){\r\n      let params = this.formSearch\r\n      recommendassetsList(params).then((res)=>{//\r\n        console.log(res)\r\n        if(res.data.code == 200){\r\n          this.formData = res.data.data.filter((item)=>{\r\n            return item\r\n          })\r\n        }else{\r\n          this.$message(res.data.msg);\r\n        }\r\n      })\r\n    },\r\n    initData(){\r\n      // let org_tree={\r\n      //       name:'',\r\n      //       status:1\r\n      //     }\r\n      recommendtype({}).then((res)=>{//推荐设施类型下拉列表\r\n        console.log(res)\r\n        if(res.data.code == 200){\r\n          this.dataTree = res.data.data\r\n        }\r\n      })\r\n      this.getlist()\r\n      \r\n    },\r\n    handleChange(value){\r\n      if(value.length!=0){\r\n        console.log(value)\r\n        this.formSearch.orgId=this.$refs.cascader.getCheckedNodes()[0].data.id\r\n      }else{\r\n        this.formSearch.orgId = ''\r\n      }\r\n    },\r\n    upData(index){//上移\r\n      if(index!=0){\r\n        let obj1 = {\r\n          facilityId:'',\r\n          type:'',\r\n        }\r\n        let obj2 = {\r\n          facilityId:'',\r\n          type:'',\r\n        }\r\n        obj1.facilityId=this.formData[index].facilityId\r\n        obj1.type=this.formData[index].type\r\n        obj2.facilityId=this.formData[index-1].facilityId\r\n        obj2.type=this.formData[index-1].type\r\n\r\n        this.formData[index].facilityId = obj2.facilityId\r\n        this.formData[index].type = obj2.type\r\n        this.formData[index-1].facilityId = obj1.facilityId\r\n        this.formData[index-1].type = obj1.type\r\n        this.typeselect={}\r\n        this.saveData()\r\n      }\r\n    },\r\n    downData(index){//下移\r\n      if(index != this.formData.length-1){\r\n        let obj1 = {\r\n          facilityId:'',\r\n          type:'',\r\n        }\r\n        let obj2 = {\r\n          facilityId:'',\r\n          type:'',\r\n        }\r\n        obj1.facilityId=this.formData[index].facilityId\r\n        obj1.type=this.formData[index].type\r\n        obj2.facilityId=this.formData[index+1].facilityId\r\n        obj2.type=this.formData[index+1].type\r\n\r\n        this.formData[index].facilityId = obj2.facilityId\r\n        this.formData[index].type = obj2.type\r\n        this.formData[index+1].facilityId = obj1.facilityId\r\n        this.formData[index+1].type = obj1.type\r\n        this.typeselect={}\r\n        this.saveData()\r\n        // obj1.address=this.formData[index].address\r\n        // obj2.address=this.formData[index+1].address\r\n\r\n        // this.formData[index].address = obj2.address\r\n        // this.formData[index+1].address = obj1.address\r\n      }\r\n    },\r\n    upCharu(){//插入\r\n\r\n    },\r\n    downCharu(){//插入\r\n\r\n    },\r\n    addData(){//添加\r\n      if(this.formData.length==9){\r\n          this.$message({\r\n            message: '最多只能添加9个推荐',\r\n          })\r\n        return \r\n      }\r\n      this.addDialog=true\r\n      // let obj = {\r\n      //   address:''\r\n      // }\r\n      // this.formData.push(obj)\r\n    },\r\n    saveData(){\r\n      let obj=[]\r\n      if(this.typeselect.type){\r\n        obj.push(this.typeselect)\r\n      }\r\n      this.formData.forEach(item=>{\r\n          let itemObj = {\r\n            facilityId:item.facilityId,\r\n            type:item.type,\r\n          }\r\n          obj.push(itemObj)\r\n      })\r\n      this.formPush=obj\r\n      recommendupdateList(this.formPush).then((res)=>{\r\n        console.log(res)\r\n        if(res.data.code == 200){\r\n          this.getlist()\r\n          this.$message({\r\n            message: '操作成功',\r\n            type: 'success'\r\n          })\r\n        }else{\r\n          this.$message('操作失败')\r\n        }\r\n      })\r\n      this.addDialog = false\r\n    },\r\n    handleAvatarSuccess1(res, file,fileList) {\r\n      console.log(res, file,fileList)\r\n      this.imageUrl = res.data[0];\r\n      this.imageUrl1=URL.createObjectURL(file.raw);\r\n      this.formData[this.indexBianhao].address = this.imageUrl\r\n      console.log(this.formData,this.indexBianhao)\r\n    },\r\n  },\r\n  mounted(){\r\n    this.initData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .app_advertise{\r\n    border:1px solid #1fc9f3;\r\n  }\r\n  .app_advertise_item{\r\n    display:flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-top:1px solid #1fc9f3;\r\n  }\r\n  .app_advertise_item:first-child{\r\n    border:0px\r\n  }\r\n  .app_advertise_item_l{\r\n    margin:10px 20px;\r\n  }\r\n .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/xinxifabu/ips_recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"modlude\"},[_c('el-form',{staticClass:\"form_inline\",attrs:{\"inline\":true,\"model\":_vm.formSearch,\"label-width\":\"90px\"}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getlist}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addData}},[_vm._v(\"添加图片\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"app_advertise\"},_vm._l((_vm.formData),function(item,index){return _c('div',{key:index,staticClass:\"app_advertise_item\",on:{\"click\":function($event){return _vm.getItem(index)}}},[_c('div',[_vm._v(\"位置\"+_vm._s(index+1))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"30px\",\"width\":\"200px\"}},[_c('span',[_vm._v(\"名称：\"+_vm._s(item.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"app_advertise_item_l\"},[(item.id)?_c('el-image',{staticStyle:{\"width\":\"150px\",\"height\":\"90px\"},attrs:{\"src\":item.coverImg}}):_vm._e()],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.upData(index)}}},[_vm._v(\"上移\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.downData(index)}}},[_vm._v(\"下移\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.upCharu(index)}}},[_vm._v(\"向上插入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.downCharu(index)}}},[_vm._v(\"向下插入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteVillage(index)}}},[_vm._v(\"删除\")])],1)])}),0),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加推荐\",\"visible\":_vm.addDialog},on:{\"update:visible\":function($event){_vm.addDialog=$event}}},[_c('el-form',{staticClass:\"form_inline\",attrs:{\"inline\":true,\"model\":_vm.formSearch,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"推荐设施类型\",\"size\":\"small\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择推荐设施类型\"},on:{\"change\":_vm.changeType},model:{value:(_vm.typeselect.type),callback:function ($$v) {_vm.$set(_vm.typeselect, \"type\", $$v)},expression:\"typeselect.type\"}},_vm._l((_vm.dataTree),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.typeName,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公园设施\",\"size\":\"small\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择公园设施\"},model:{value:(_vm.typeselect.facilityId),callback:function ($$v) {_vm.$set(_vm.typeselect, \"facilityId\", $$v)},expression:\"typeselect.facilityId\"}},_vm._l((_vm.dataTree1),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveData}},[_vm._v(\"添 加\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b09cb404\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/xinxifabu/ips_recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b09cb404\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ips_recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ips_recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ips_recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b09cb404\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ips_recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b09cb404\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/xinxifabu/ips_recommend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}