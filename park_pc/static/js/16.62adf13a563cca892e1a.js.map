{"version":3,"sources":["webpack:///src/components/extraOptions/messageCenter.vue","webpack:///./src/components/extraOptions/messageCenter.vue?3e2a","webpack:///./src/components/extraOptions/messageCenter.vue"],"names":["messageCenter","data","_ref","isActive","total","inforList","pages","apartmentId","formSearch","current","size","addORupdate","addFormVisible1","updataVisible","selectArr","getGateWayList","sels","listLoading","defineProperty_default","msgType","apartmentName","linkman","phone","createTime","comment","remark","sessionStorage","getItem","methods","_methods","init","WebSocket","alert","this","socket","path","onopen","open","onerror","error","onmessage","getMessage","console","log","msg","inforList2","JSON","parse","send","close","changeActive","val","_this","Object","api","then","res","code","records","filter","item","$message","addShebei","addForm","handleSelectionChange","self","deleBatch","changeItem","index","row","addFormVisible","reservationId","updateShowBox","ids","_this2","arrId","push","length","id","$confirm","_","catch","pushInfor","_this3","params","reservationRemark","getList","useqrcode","QueryDetail","canvas","document","getElementById","QRCode","toCanvas","handleCurrentChange","checkInfor","changeHouseList","_this4","assignList","houseAssignList","html","type","gmtCreate","$notify","title","dangerouslyUseHTMLString","duration","position","message","sel","isExist","mounted","extraOptions_messageCenter","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","class","nav_option_active","on","click","$event","attrs","value","noRead","financeNum","max","_v","width","stripe","selection-change","prop","label","scopedSlots","_u","key","fn","scope","_s","$root","getDateArray","undefined","gmtModified","status","fixed","_e","span","layout","page-size","page-count","current-change","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.62adf13a563cca892e1a.js","sourcesContent":["<template>\r\n  <section class=\"modlude\">\r\n    <div class=\"nav_options\" style=\"margin-bottom:20px;\">\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 1}\" @click=\"changeActive(1)\">\r\n        <el-badge :value=\"noRead.financeNum\" class=\"item\" :max=\"99\" style=\"\">\r\n          <span class=\"txt\">报警信息</span>\r\n        </el-badge>\r\n      </div>\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 2}\" @click=\"changeActive(2)\">\r\n        <span>公告通知</span>\r\n      </div>\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 3}\" @click=\"changeActive(3)\">\r\n        <span>支付信息</span>\r\n      </div>\r\n      <div class=\"nav_option\" :class=\"{nav_option_active:isActive == 4}\" @click=\"changeActive(4)\">\r\n        <span>服务信息</span>\r\n      </div>\r\n    </div>\r\n      <!-- 水列表部分 -->\r\n      <el-table :data=\"inforList\"  v-if=\"isActive == 1\" style=\"width: 100%\" stripe @selection-change=\"handleSelectionChange\">\r\n\r\n    <el-table-column prop=\"\" label=\"创建时间\">\r\n        <template slot-scope=\"scope\" v-if=\"scope.row.gmtCreate\">\r\n          {{$root.getDateArray(scope.row.gmtCreate)[9]}}\r\n        </template>\r\n</el-table-column>\r\n<el-table-column prop=\"\" label=\"修改时间\">\r\n    <template slot-scope=\"scope\" v-if=\"scope.row.gmtModified\">\r\n            {{$root.getDateArray(scope.row.gmtModified)[9]}}\r\n          </template>\r\n</el-table-column>\r\n\r\n<el-table-column prop=\"id\" label=\"id\"></el-table-column>\r\n<el-table-column prop=\"latitude\" label=\"纬度\"></el-table-column>\r\n<el-table-column prop=\"longitude\" label=\"经度\"></el-table-column>\r\n<el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\r\n<el-table-column prop=\"score\" label=\"评论\"></el-table-column>\r\n<el-table-column prop=\"nickname\" label=\"报警人姓名\"></el-table-column>\r\n\r\n<el-table-column prop=\"phone\" label=\"报警人手机号\"></el-table-column>\r\n<el-table-column prop=\"status\" label=\"状态\">\r\n    <template slot-scope=\"scope\">\r\n       \t\t{{scope.row.status==1?\"未处理\":scope.row.status==2?\"处理中\":\"处理完成\"}}\r\n       \t</template>\r\n</el-table-column>\r\n<el-table-column prop=\"userId\" label=\"用户\"></el-table-column>\r\n<el-table-column label=\"操作\" fixed=\"right\" width=250>\r\n    <template slot-scope=\"scope\">\r\n\r\n            <el-button type=\"warning\" size=\"small\" @click=\"updateShowBox(scope.row.id)\">{{scope.row.status==1?\"未处理\":scope.row.status==2?\"处理中\":\"处理完成\"}}</el-button>\r\n          </template>\r\n</el-table-column>\r\n</el-table>\r\n<!-- 批量删除，下标页码 -->\r\n<el-col :span=\"24\" class=\"paginationt\">\r\n    <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\" :page-size=\"10\" :page-count=\"total\" class=\"pagination\">\r\n    </el-pagination>\r\n</el-col>\r\n<div id=\"query\">\r\n    <canvas id=\"canvas\"></canvas>\r\n</div>\r\n<!-- <div>\r\n            <button @click=\"send\">发消息</button>\r\n            <button @click=\"getMessage\">发消息1</button>\r\n\r\n        </div> -->\r\n</section>\r\n</template>\r\n<script>\r\n    // import QRCode from 'qrcode'\r\n    // import {getDateArray} from '../../util/util'\r\n    import {\r\n        sosQuery,\r\n        updateSosById\r\n    } from '../../url/api'\r\n    export default {\r\n        data() {\r\n            return {\r\n                isActive: 1,\r\n                total: 1,\r\n                inforList: [], //数据\r\n                pages: 1, //总页码数\r\n                apartmentId: '',\r\n                formSearch: {\r\n                    current: 1,\r\n                    size: 10\r\n                },\r\n                addORupdate: 0,\r\n                addFormVisible1: false,\r\n                updataVisible: false,\r\n                selectArr: [],\r\n                getGateWayList: [], //网关列表\r\n                sels: [], //列表选中列\r\n                listLoading: false,\r\n                sels: [], //列表选中列\r\n                inforList2: {},\r\n                checkList: [],\r\n\r\n                checkInfor: {\r\n                    msgType: 0, //消息类型(0财务1租约2房源3服务4系统)\r\n                    size: 10,\r\n                    current: 1 //当前页数\r\n                }, //条件查询\r\n                addForm: { //备注操作\r\n                    apartmentName: \"\",\r\n                    linkman: \"\",\r\n                    phone: \"\",\r\n                    createTime: '',\r\n                    comment: \"\",\r\n                    remark: \"\"\r\n                },\r\n                updataForm: {},\r\n                noRead: {},\r\n                path: \"ws://192.168.0.142:8082/park/ist?appId=\" + sessionStorage.getItem('Authorization'),\r\n                socket: \"\"\r\n            }\r\n        },\r\n        methods: {\r\n            init: function() {\r\n                if (typeof(WebSocket) === \"undefined\") {\r\n                    alert(\"您的浏览器不支持socket\")\r\n                } else {\r\n                    // 实例化socket\r\n                    this.socket = new WebSocket(this.path)\r\n                        // 监听socket连接\r\n                    this.socket.onopen = this.open\r\n                        // 监听socket错误信息\r\n                    this.socket.onerror = this.error\r\n                        // 监听socket消息\r\n                    this.socket.onmessage = this.getMessage\r\n                }\r\n            },\r\n            open: function() {\r\n                console.log(\"socket连接成功\")\r\n            },\r\n            error: function() {\r\n                console.log(\"连接错误\")\r\n            },\r\n            getMessage: function(msg) {\r\n                console.log(msg)\r\n                this.inforList2 = JSON.parse(msg.data)\r\n                this.open()\r\n                console.log(this.inforList2)\r\n            },\r\n            send: function() {\r\n                let params = \"liyu\"\r\n                this.socket.send(params)\r\n            },\r\n            close: function() {\r\n                console.log(\"socket已经关闭\")\r\n            },\r\n            //未读条数提醒\r\n            changeActive(val) {\r\n                this.isActive = val　\r\n                sosQuery(this.formSearch).then((res) => {\r\n                    console.log(res)\r\n                    if (res.data.code == 200) {\r\n                        this.inforList = res.data.data.records.filter((item) => {\r\n                            return item\r\n                        })\r\n                        this.total = res.data.data.total\r\n                    } else {\r\n                        this.$message(res.data.msg);\r\n                    }\r\n                })　　　　\r\n            },\r\n\r\n\r\n            addShebei() { //显示添加设备弹框\r\n                this.addORupdate = 0\r\n                this.addForm = {}\r\n                this.addFormVisible1 = true\r\n\r\n            },\r\n            handleSelectionChange(val, self) { //多选\r\n                this.deleBatch = val\r\n                console.log(this.deleBatch)\r\n            },\r\n            changeItem(index, row) { //修改\r\n                this.addFormVisible = true\r\n                this.addForm.apartmentName = row.apartmentName\r\n                this.addForm.remark = row.remark\r\n                this.addForm.linkman = row.linkman\r\n                this.addForm.phone = row.phone\r\n                this.addForm.createTime = row.createTime\r\n                this.addForm.comment = row.comment\r\n                this.addForm.reservationId = row.reservationId\r\n            },\r\n            updateShowBox(ids) { //报警\r\n                let arrId = []\r\n                if (ids) {\r\n                    arrId.push(ids)\r\n                } else {\r\n                    if (this.deleBatch.length != 0) {\r\n                        this.deleBatch.filter((item) => {\r\n                            arrId.push(item.id)\r\n                            return item\r\n                        })\r\n                    }\r\n                }\r\n                this.$confirm('确认受理案件吗？')\r\n                    .then(_ => {\r\n                        updateSosById(arrId).then((res) => {\r\n                            console.log(res)\r\n                            if (res.data.code == 200) {\r\n                                this.$message('受理成功');\r\n                                this.changeActive(1)\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(_ => {});\r\n            },\r\n\r\n            pushInfor() {\r\n                let params = {\r\n                    reservationId: this.addForm.reservationId,\r\n                    remark: this.addForm.remark,\r\n                }\r\n                console.log(params)\r\n                reservationRemark(params).then(res => {\r\n                    console.log(res)\r\n                    this.addFormVisible = false\r\n                    if (res.data.code === 200) {\r\n                        this.getList()\r\n                    } else {\r\n                        alert(res.data.msg)\r\n                    }\r\n                })\r\n            },\r\n            useqrcode() {\r\n                //生成的二维码内容，可以添加变量\r\n                　　　\r\n                this.QueryDetail = \"shdak\";\r\n                var canvas = document.getElementById('canvas')\r\n                QRCode.toCanvas(canvas, this.QueryDetail, function(error) {\r\n                    if (error) console.error(error)\r\n                    console.log('success!');\r\n                })\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.checkInfor.current = val\r\n                this.getList(this.checkInfor.msgType)\r\n            },\r\n            changeHouseList(val) {\r\n                let params = {\r\n                    apartmentId: this.apartmentId,\r\n                    current: val\r\n                }\r\n                console.log(params)\r\n                assignList(params).then(res => {\r\n                    console.log(res)\r\n                    if (res.data.code === 200) {\r\n                        this.houseAssignList = res.data.data.records\r\n                    }\r\n                })\r\n            },\r\n            open() {\r\n                let html = '<div style=\"width:250px;\">' +\r\n                    '<div style=\"display:flex;align-items: center;justify-content: space-between;\">' +\r\n                    '<span>' + this.inforList2.type == 1 ? 'sos报警' : this.inforList2.type == 2 ? '未知' : '未知'; + '</span>' +\r\n                '<span>' + this.inforList2.gmtCreate + '</span>' +\r\n                    '</div>' +\r\n                    '<div style=\"display:flex;align-items: center;justify-content: space-between;\">' +\r\n                    '<span>报警类型</span>' +\r\n                    '<span>开始时间</span>' +\r\n                    ' </div>' +\r\n                    '<div style=\"margin-top:10px;display:flex;align-items: center;justify-content: space-around;\">' +\r\n                    '  <button size=\"small \" style=\"border:0px;padding: 2px 8px;background: #1271b4;color: #fff;\">查看详情</button>' +\r\n                    ' <button size=\"small \" style=\"border:0px;padding: 2px 8px;background: #1271b4;color: #fff;\"></button>' +\r\n                    '  <button size=\"small \" style=\"border:0px;padding: 2px 8px;background: #1271b4;color: #fff;\">处理</button>' +\r\n                    '</div>' +\r\n                    ' </div>'\r\n                this.$notify({\r\n                    title: '报警',\r\n                    dangerouslyUseHTMLString: true,\r\n                    duration: 0,\r\n                    position: 'bottom-right',\r\n                    message: html\r\n                });\r\n\r\n            },\r\n            selsChange: function(sels) { // 当选择项发生变化时会触发该事件\r\n                this.sels = sels.filter(function(sel) {\r\n                    if (sel.isExist !== 1) {\r\n                        return sel\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            // this.useqrcode()\r\n            // this.messageUnreadd()\r\n            this.changeActive(1)\r\n\r\n            /* this.open() */\r\n            this.init()\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .tabsMenu .el-badge__content.is-fixed {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 28px;\r\n    }\r\n</style>\r\n\r\n<style scoped>\r\n    .equi {\r\n        padding: 20px;\r\n    }\r\n    \r\n    .gridContt {\r\n        line-height: 30px;\r\n        margin-top: 10px;\r\n    }\r\n    \r\n    .title {\r\n        color: #ff5600;\r\n    }\r\n    \r\n    #canvas {\r\n        width: 200px !important;\r\n        height: auto!important;\r\n    }\r\n    \r\n    .xinxi {\r\n        display: block;\r\n        margin: 0 auto;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/extraOptions/messageCenter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"modlude\"},[_c('div',{staticClass:\"nav_options\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 1},on:{\"click\":function($event){return _vm.changeActive(1)}}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.noRead.financeNum,\"max\":99}},[_c('span',{staticClass:\"txt\"},[_vm._v(\"报警信息\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 2},on:{\"click\":function($event){return _vm.changeActive(2)}}},[_c('span',[_vm._v(\"公告通知\")])]),_vm._v(\" \"),_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 3},on:{\"click\":function($event){return _vm.changeActive(3)}}},[_c('span',[_vm._v(\"支付信息\")])]),_vm._v(\" \"),_c('div',{staticClass:\"nav_option\",class:{nav_option_active:_vm.isActive == 4},on:{\"click\":function($event){return _vm.changeActive(4)}}},[_c('span',[_vm._v(\"服务信息\")])])]),_vm._v(\" \"),(_vm.isActive == 1)?_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.inforList,\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (scope.row.gmtCreate)?[_vm._v(\"\\n          \"+_vm._s(_vm.$root.getDateArray(scope.row.gmtCreate)[9])+\"\\n        \")]:undefined}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"修改时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (scope.row.gmtModified)?[_vm._v(\"\\n            \"+_vm._s(_vm.$root.getDateArray(scope.row.gmtModified)[9])+\"\\n          \")]:undefined}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"latitude\",\"label\":\"纬度\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"longitude\",\"label\":\"经度\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"score\",\"label\":\"评论\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"nickname\",\"label\":\"报警人姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"报警人手机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n       \\t\\t\"+_vm._s(scope.row.status==1?\"未处理\":scope.row.status==2?\"处理中\":\"处理完成\")+\"\\n       \\t\")]}}],null,false,1141193935)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.updateShowBox(scope.row.id)}}},[_vm._v(_vm._s(scope.row.status==1?\"未处理\":scope.row.status==2?\"处理中\":\"处理完成\"))])]}}],null,false,2704473529)})],1):_vm._e(),_vm._v(\" \"),_c('el-col',{staticClass:\"paginationt\",attrs:{\"span\":24}},[_c('el-pagination',{staticClass:\"pagination\",attrs:{\"layout\":\"prev, pager, next\",\"page-size\":10,\"page-count\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"query\"}},[_c('canvas',{attrs:{\"id\":\"canvas\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32689135\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/extraOptions/messageCenter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32689135\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./messageCenter.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32689135\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./messageCenter.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./messageCenter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./messageCenter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32689135\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./messageCenter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32689135\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/extraOptions/messageCenter.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}