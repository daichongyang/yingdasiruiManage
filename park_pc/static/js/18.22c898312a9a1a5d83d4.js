webpackJsonp([18],{"1Cm4":function(e,t){},I4t6:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__url_api__=__webpack_require__("qKdJ");__webpack_exports__.a={data:function data(){return{logining:!1,ruleForm2:{account:localStorage.getItem("phone")||"",password:localStorage.getItem("password")||"",grantType:"password"},rules2:{phone:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},grantType:[{value:"captcha",label:"captcha"},{value:"refresh_token",label:"refresh_token"},{value:"password",label:"password"}],checked:eval(localStorage.getItem("checked"))||!1}},methods:{changeChe:function(e){console.log(e),localStorage.setItem("checked",e)},handleReset2:function(){this.$router.push({path:"/login1"})},handleSubmit2:function handleSubmit2(ev){var _this=this;this.logining=!0;var params=this.ruleForm2,che=eval(localStorage.getItem("checked"));che?(localStorage.setItem("phone",this.ruleForm2.account),localStorage.setItem("password",this.ruleForm2.password)):(localStorage.clear("phone"),localStorage.clear("password")),console.log(),Object(__WEBPACK_IMPORTED_MODULE_1__url_api__._42)(params).then(function(e){if(console.log(e),200===e.status){var t=e.data.data.token||1,a=e.data.data.menus,r=e.data.data.userId,o=e.data.data.tenantCode;localStorage.setItem("phone",_this.ruleForm2.account),sessionStorage.setItem("userId",r),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("Authorization",t),sessionStorage.setItem("tenantCode",o),sessionStorage.setItem("menus",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a)),_this.$route.query.redirect?_this.$router.push({path:_this.$route.query.redirect}):_this.$router.push({path:"/index"})}else _this.$message({message:e.data.msg,type:"error"})}).catch(function(e){console.log(e),_this.logining=!1})}},mounted:function(){}}},K31e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("I4t6"),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit2(t)}},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),a("el-checkbox",{staticClass:"remember",on:{change:e.changeChe},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var s=function(e){a("1Cm4")},n=a("VU/8")(r.a,o,!1,s,"data-v-7c320a03",null);t.default=n.exports}});
//# sourceMappingURL=18.22c898312a9a1a5d83d4.js.map