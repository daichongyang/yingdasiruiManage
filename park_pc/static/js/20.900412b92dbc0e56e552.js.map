{"version":3,"sources":["webpack:///src/components/login.vue","webpack:///./src/components/login.vue?1470","webpack:///./src/components/login.vue"],"names":["__webpack_exports__","data","logining","ruleForm2","account","localStorage","getItem","password","grantType","rules2","phone","required","message","trigger","value","label","checked","eval","methods","changeChe","e","console","log","setItem","handleReset2","this","$router","push","path","handleSubmit2","ev","_this","params","che","clear","Object","__WEBPACK_IMPORTED_MODULE_1__url_api__","then","res","status","token","menus","userId","tenantCode","sessionStorage","name","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","$route","query","redirect","$message","msg","type","catch","error","mounted","components_login","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","rules","label-position","label-width","_v","prop","auto-complete","placeholder","callback","$$v","$set","expression","staticStyle","margin-top","nativeOn","keyup","$event","indexOf","_k","keyCode","key","on","change","width","loading","click","preventDefault","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","login"],"mappings":"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","file":"static/js/20.900412b92dbc0e56e552.js","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n  <el-form :model=\"ruleForm2\" :rules=\"rules2\" ref=\"ruleForm2\" label-position=\"left\" label-width=\"0px\" class=\"demo-ruleForm login-container\">\r\n    <h3 class=\"title\">系统登录</h3>\r\n    <el-form-item prop=\"account\">\r\n      <el-input type=\"text\" v-model=\"ruleForm2.account\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item style=\"margin-top:20px;\" prop=\"checkPass\">\r\n      <el-input  type=\"password\" v-model=\"ruleForm2.password\"  auto-complete=\"off\" placeholder=\"密码\" @keyup.enter.native=\"handleSubmit2\"></el-input>\r\n    </el-form-item>\r\n\r\n    <el-checkbox v-model=\"checked\" @change=\"changeChe\" class=\"remember\">记住密码</el-checkbox>\r\n    <el-form-item style=\"width:100%;\">\r\n      <el-button type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleSubmit2\" :loading=\"logining\">登录</el-button>\r\n      <!-- <el-button style=\"width:100%;margin-top:20px;margin-left:0;\" @click.native.prevent=\"handleReset2\">入住宝宝在线公寓合作伙伴</el-button> -->\r\n    </el-form-item>\r\n\r\n  </el-form>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { login } from '../url/api';\r\n\r\n  export default {\r\n    data() { \r\n      return {\r\n        logining: false,\r\n        ruleForm2: {\r\n          account: localStorage.getItem(\"phone\") ||'',\r\n          password: localStorage.getItem(\"password\") ||'',\r\n          grantType:'password'\r\n        },\r\n        rules2: {\r\n          phone: [\r\n            { required: true, message: '请输入账号', trigger: 'blur' },\r\n            //{ validator: validaePass }\r\n          ],\r\n          password: [\r\n            { required: true, message: '请输入密码', trigger: 'blur' },\r\n            //{ validator: validaePass2 }\r\n          ]\r\n        },\r\n        grantType:[//授权类型\r\n          {\r\n            value: 'captcha',\r\n            label: 'captcha'\r\n          },\r\n          {\r\n            value: 'refresh_token',\r\n            label: 'refresh_token'\r\n          },\r\n          {\r\n            value: 'password',\r\n            label: 'password'\r\n          },\r\n        ],\r\n        checked:eval(localStorage.getItem(\"checked\"))||false\r\n      };\r\n    },\r\n    methods: {\r\n      // 记住密码\r\n      changeChe(e){\r\n        console.log(e)\r\n        localStorage.setItem('checked',e)\r\n      },\r\n      handleReset2() {\r\n        this.$router.push({\r\n          path:'/login1'\r\n        })\r\n      },\r\n      handleSubmit2(ev) {\r\n        this.logining = true;\r\n        let params = this.ruleForm2\r\n        let che = eval(localStorage.getItem(\"checked\"))\r\n        if(che){\r\n          localStorage.setItem('phone',this.ruleForm2.account)\r\n          localStorage.setItem('password',this.ruleForm2.password)\r\n        }else{\r\n          localStorage.clear('phone')\r\n          localStorage.clear('password')\r\n        }\r\n        console.log()\r\n        login(params).then(res=>{\r\n          // this.logining = false;\r\n          console.log(res)\r\n          if(res.status===200){\r\n            let token = res.data.data.token || 1\r\n            let menus = res.data.data.menus\r\n            let userId = res.data.data.userId\r\n            let tenantCode = res.data.data.tenantCode\r\n            localStorage.setItem('phone',this.ruleForm2.account)\r\n            sessionStorage.setItem('userId',userId)\r\n            sessionStorage.setItem('name',res.data.data.name)\r\n            sessionStorage.setItem('Authorization',token)\r\n            sessionStorage.setItem('tenantCode',tenantCode)\r\n            sessionStorage.setItem('menus',JSON.stringify(menus))\r\n            if(this.$route.query.redirect){\r\n              this.$router.push({\r\n                path: this.$route.query.redirect,\r\n              });\r\n            }else{\r\n              // this.$router.push({\r\n              //   path: '/acs_auth_inout_log',\r\n              // });\r\n              this.$router.push({\r\n                path: '/index',\r\n              });\r\n            }\r\n            //  location.reload()//用于控制路由中menuList的显示\r\n          }else{\r\n            this.$message({\r\n              message: res.data.msg,\r\n              type: 'error'\r\n            });\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n          // alert('登录失败')\r\n           this.logining = false;\r\n        })\r\n      }\r\n    },\r\n    mounted(){\r\n      // console.log(this.checked)\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .login-container {\r\n    /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\r\n    -webkit-border-radius: 5px;\r\n    border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    background-clip: padding-box;\r\n    margin: 180px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n    .title {\r\n      margin: 0px auto 40px auto;\r\n      text-align: center;\r\n      color: #505458;\r\n    }\r\n    .remember {\r\n      margin: 0px 0px 35px 0px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm login-container\",attrs:{\"model\":_vm.ruleForm2,\"rules\":_vm.rules2,\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"系统登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"account\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"账号\"},model:{value:(_vm.ruleForm2.account),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"account\", $$v)},expression:\"ruleForm2.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit2($event)}},model:{value:(_vm.ruleForm2.password),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"password\", $$v)},expression:\"ruleForm2.password\"}})],1),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"remember\",on:{\"change\":_vm.changeChe},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住密码\")]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.logining},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleSubmit2($event)}}},[_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c320a03\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c320a03\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c320a03\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c320a03\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}